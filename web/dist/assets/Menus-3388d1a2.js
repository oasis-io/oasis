/* empty css             *//* empty css                *//* empty css                    *//* empty css                  *//* empty css                 */import{d as g,r as n,o as x,c as w,j as h,b as c,w as M,h as C,aw as b,ax as E,ay as V,M as l,k as B,m as N,av as T,_ as z}from"./index-6dee63ee.js";const A={class:"clearfix sticky-button"},I={class:"tree-content"},K=g({__name:"Menus",props:{row:{default:function(){return{}},type:Object}},setup(_){const d=_,o=n(null),u=n(""),i=n([]),p=n([]),m=n({children:"children",label:function(e){return e.meta.title}}),f=e=>{const t=[],s=r=>{r.forEach(a=>{(a.parentID!=="0"||a.parentID==="0"&&a.children===null)&&t.push(Number(a.id)),a.children&&s(a.children)})};return s(e),t};(async()=>{const e=await b();i.value=e.data.data.menus;const s=(await E({name:d.row.name})).data.data.menus;p.value=f(s)})();const y=async()=>{},k=async()=>{const e=o.value.getCheckedKeys().concat(o.value.getHalfCheckedKeys()),t=d.row.name;try{(await V({name:t,menus:e})).data.code===1e3?l({type:"success",message:"角色授权成功!"}):l({type:"error",message:"角色授权失败!"})}catch{l({type:"error",message:"角色授权失败!"})}};return(e,t)=>{const s=B,r=N,a=T;return x(),w("div",null,[h("div",A,[c(s,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=v=>u.value=v),class:"fitler",placeholder:"search"},null,8,["modelValue"]),c(r,{class:"fl-right",type:"primary",onClick:k},{default:M(()=>[C("确 定")]),_:1})]),h("div",I,[c(a,{ref_key:"treeRef",ref:o,"highlight-current":"","default-expand-all":"","show-checkbox":"","node-key":"id","default-checked-keys":p.value,props:m.value,data:i.value,onCheckChange:y},null,8,["default-checked-keys","props","data"])])])}}});const q=z(K,[["__scopeId","data-v-de2dc86d"]]);export{q as default};
